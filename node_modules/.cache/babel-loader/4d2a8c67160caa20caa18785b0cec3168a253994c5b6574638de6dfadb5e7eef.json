{"ast":null,"code":"export default {\n  name: 'FertilizerPie',\n  data() {\n    return {\n      chart: null,\n      fertilizerData: [{\n        name: '氮肥',\n        value: 31.32\n      }, {\n        name: '磷肥',\n        value: 46.09\n      }, {\n        name: '钾肥',\n        value: 3.58\n      }, {\n        name: '复合肥',\n        value: 19.00\n      }]\n    };\n  },\n  mounted() {\n    this.initChart();\n    window.addEventListener('resize', this.handleResize);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n    if (this.chart) {\n      this.chart.dispose();\n      this.chart = null;\n    }\n  },\n  methods: {\n    initChart() {\n      this.chart = this.$echarts.init(this.$refs.chart);\n      const option = {\n        tooltip: {\n          trigger: 'item',\n          formatter: '{b}: {c}%'\n        },\n        legend: {\n          orient: 'vertical',\n          right: '5%',\n          top: 'center',\n          textStyle: {\n            color: '#fff'\n          },\n          itemWidth: 10,\n          itemHeight: 10,\n          itemGap: 10\n        },\n        series: [{\n          name: '化肥使用量',\n          type: 'pie',\n          radius: ['40%', '70%'],\n          center: ['40%', '50%'],\n          avoidLabelOverlap: false,\n          itemStyle: {\n            borderRadius: 5,\n            borderColor: 'rgba(0, 0, 0, 0.2)',\n            borderWidth: 2\n          },\n          label: {\n            show: true,\n            position: 'inside',\n            formatter: '{d}%',\n            fontSize: 12,\n            color: '#fff'\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: 14,\n              fontWeight: 'bold'\n            }\n          },\n          labelLine: {\n            show: false\n          },\n          data: [{\n            value: this.fertilizerData[0].value,\n            name: this.fertilizerData[0].name,\n            itemStyle: {\n              color: '#f94144'\n            }\n          }, {\n            value: this.fertilizerData[1].value,\n            name: this.fertilizerData[1].name,\n            itemStyle: {\n              color: '#f9c74f'\n            }\n          }, {\n            value: this.fertilizerData[2].value,\n            name: this.fertilizerData[2].name,\n            itemStyle: {\n              color: '#90be6d'\n            }\n          }, {\n            value: this.fertilizerData[3].value,\n            name: this.fertilizerData[3].name,\n            itemStyle: {\n              color: '#43aa8b'\n            }\n          }]\n        }]\n      };\n      this.chart.setOption(option);\n    },\n    handleResize() {\n      if (this.chart) {\n        this.chart.resize();\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","chart","fertilizerData","value","mounted","initChart","window","addEventListener","handleResize","beforeDestroy","removeEventListener","dispose","methods","$echarts","init","$refs","option","tooltip","trigger","formatter","legend","orient","right","top","textStyle","color","itemWidth","itemHeight","itemGap","series","type","radius","center","avoidLabelOverlap","itemStyle","borderRadius","borderColor","borderWidth","label","show","position","fontSize","emphasis","fontWeight","labelLine","setOption","resize"],"sources":["src/components/charts/FertilizerPie.vue"],"sourcesContent":["<template>\r\n  <div class=\"chart-wrapper\">\r\n    <div class=\"chart-title\">2024年各农业化肥使用量占比</div>\r\n    <div ref=\"chart\" class=\"chart-container\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FertilizerPie',\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      fertilizerData: [\r\n        { name: '氮肥', value: 31.32 },\r\n        { name: '磷肥', value: 46.09 },\r\n        { name: '钾肥', value: 3.58 },\r\n        { name: '复合肥', value: 19.00 }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initChart()\r\n    window.addEventListener('resize', this.handleResize)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.handleResize)\r\n    if (this.chart) {\r\n      this.chart.dispose()\r\n      this.chart = null\r\n    }\r\n  },\r\n  methods: {\r\n    initChart() {\r\n      this.chart = this.$echarts.init(this.$refs.chart)\r\n      \r\n      const option = {\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: '{b}: {c}%'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          right: '5%',\r\n          top: 'center',\r\n          textStyle: {\r\n            color: '#fff'\r\n          },\r\n          itemWidth: 10,\r\n          itemHeight: 10,\r\n          itemGap: 10\r\n        },\r\n        series: [\r\n          {\r\n            name: '化肥使用量',\r\n            type: 'pie',\r\n            radius: ['40%', '70%'],\r\n            center: ['40%', '50%'],\r\n            avoidLabelOverlap: false,\r\n            itemStyle: {\r\n              borderRadius: 5,\r\n              borderColor: 'rgba(0, 0, 0, 0.2)',\r\n              borderWidth: 2\r\n            },\r\n            label: {\r\n              show: true,\r\n              position: 'inside',\r\n              formatter: '{d}%',\r\n              fontSize: 12,\r\n              color: '#fff'\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                show: true,\r\n                fontSize: 14,\r\n                fontWeight: 'bold'\r\n              }\r\n            },\r\n            labelLine: {\r\n              show: false\r\n            },\r\n            data: [\r\n              { \r\n                value: this.fertilizerData[0].value, \r\n                name: this.fertilizerData[0].name,\r\n                itemStyle: { color: '#f94144' }\r\n              },\r\n              { \r\n                value: this.fertilizerData[1].value, \r\n                name: this.fertilizerData[1].name,\r\n                itemStyle: { color: '#f9c74f' }\r\n              },\r\n              { \r\n                value: this.fertilizerData[2].value, \r\n                name: this.fertilizerData[2].name,\r\n                itemStyle: { color: '#90be6d' }\r\n              },\r\n              { \r\n                value: this.fertilizerData[3].value, \r\n                name: this.fertilizerData[3].name,\r\n                itemStyle: { color: '#43aa8b' }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n      \r\n      this.chart.setOption(option)\r\n    },\r\n    handleResize() {\r\n      if (this.chart) {\r\n        this.chart.resize()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chart-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 5px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.chart-title {\r\n  font-size: 14px;\r\n  color: #fff;\r\n  text-align: center;\r\n  margin-bottom: 5px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.chart-container {\r\n  flex: 1;\r\n  width: 100%;\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .chart-title {\r\n    font-size: 12px;\r\n  }\r\n}\r\n</style> "],"mappings":"AAQA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,cAAA,GACA;QAAAH,IAAA;QAAAI,KAAA;MAAA,GACA;QAAAJ,IAAA;QAAAI,KAAA;MAAA,GACA;QAAAJ,IAAA;QAAAI,KAAA;MAAA,GACA;QAAAJ,IAAA;QAAAI,KAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;IACAC,MAAA,CAAAC,gBAAA,gBAAAC,YAAA;EACA;EACAC,cAAA;IACAH,MAAA,CAAAI,mBAAA,gBAAAF,YAAA;IACA,SAAAP,KAAA;MACA,KAAAA,KAAA,CAAAU,OAAA;MACA,KAAAV,KAAA;IACA;EACA;EACAW,OAAA;IACAP,UAAA;MACA,KAAAJ,KAAA,QAAAY,QAAA,CAAAC,IAAA,MAAAC,KAAA,CAAAd,KAAA;MAEA,MAAAe,MAAA;QACAC,OAAA;UACAC,OAAA;UACAC,SAAA;QACA;QACAC,MAAA;UACAC,MAAA;UACAC,KAAA;UACAC,GAAA;UACAC,SAAA;YACAC,KAAA;UACA;UACAC,SAAA;UACAC,UAAA;UACAC,OAAA;QACA;QACAC,MAAA,GACA;UACA9B,IAAA;UACA+B,IAAA;UACAC,MAAA;UACAC,MAAA;UACAC,iBAAA;UACAC,SAAA;YACAC,YAAA;YACAC,WAAA;YACAC,WAAA;UACA;UACAC,KAAA;YACAC,IAAA;YACAC,QAAA;YACArB,SAAA;YACAsB,QAAA;YACAhB,KAAA;UACA;UACAiB,QAAA;YACAJ,KAAA;cACAC,IAAA;cACAE,QAAA;cACAE,UAAA;YACA;UACA;UACAC,SAAA;YACAL,IAAA;UACA;UACAvC,IAAA,GACA;YACAG,KAAA,OAAAD,cAAA,IAAAC,KAAA;YACAJ,IAAA,OAAAG,cAAA,IAAAH,IAAA;YACAmC,SAAA;cAAAT,KAAA;YAAA;UACA,GACA;YACAtB,KAAA,OAAAD,cAAA,IAAAC,KAAA;YACAJ,IAAA,OAAAG,cAAA,IAAAH,IAAA;YACAmC,SAAA;cAAAT,KAAA;YAAA;UACA,GACA;YACAtB,KAAA,OAAAD,cAAA,IAAAC,KAAA;YACAJ,IAAA,OAAAG,cAAA,IAAAH,IAAA;YACAmC,SAAA;cAAAT,KAAA;YAAA;UACA,GACA;YACAtB,KAAA,OAAAD,cAAA,IAAAC,KAAA;YACAJ,IAAA,OAAAG,cAAA,IAAAH,IAAA;YACAmC,SAAA;cAAAT,KAAA;YAAA;UACA;QAEA;MAEA;MAEA,KAAAxB,KAAA,CAAA4C,SAAA,CAAA7B,MAAA;IACA;IACAR,aAAA;MACA,SAAAP,KAAA;QACA,KAAAA,KAAA,CAAA6C,MAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}