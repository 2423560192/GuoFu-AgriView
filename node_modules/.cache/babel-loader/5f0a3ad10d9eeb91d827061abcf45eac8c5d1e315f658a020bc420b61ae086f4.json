{"ast":null,"code":"export default {\n  name: 'GrainPyramid',\n  data() {\n    return {\n      currentYear: '2024',\n      // 默认显示2024年\n      years: ['2024', '2023', '2022', '2021'],\n      dataMap: {\n        '2024': {\n          grain: 61.59,\n          beans: 9.62,\n          potato: 28.80\n        },\n        '2023': {\n          grain: 61.67,\n          beans: 9.58,\n          potato: 28.75\n        },\n        '2022': {\n          grain: 61.91,\n          beans: 9.36,\n          potato: 28.73\n        },\n        '2021': {\n          grain: 62.37,\n          beans: 8.65,\n          potato: 28.98\n        }\n      }\n    };\n  }\n};","map":{"version":3,"names":["name","data","currentYear","years","dataMap","grain","beans","potato"],"sources":["src/components/charts/GrainPyramid.vue"],"sourcesContent":["<template>\r\n  <div class=\"pyramid-container\">\r\n    <div class=\"chart-title\">2024年粮食作物面积占比金字塔</div>\r\n    \r\n    <!-- 年份选择器 -->\r\n    <div class=\"year-tabs\">\r\n      <div \r\n        v-for=\"year in years\" \r\n        :key=\"year\" \r\n        :class=\"['year-tab', { active: currentYear === year }]\" \r\n        @click=\"currentYear = year\"\r\n      >\r\n        {{ year }}年\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 3D金字塔 -->\r\n    <div class=\"pyramid-3d-container\">\r\n      <div class=\"pyramid-3d\">\r\n        <!-- 顶层 - 折粮薯类 -->\r\n        <div class=\"pyramid-level level-top\">\r\n          <div class=\"pyramid-face face-front\"></div>\r\n          <div class=\"pyramid-face face-right\"></div>\r\n          <div class=\"pyramid-face face-left\"></div>\r\n          <div class=\"pyramid-face face-bottom\"></div>\r\n        </div>\r\n        \r\n        <!-- 中层 - 豆类 -->\r\n        <div class=\"pyramid-level level-middle\">\r\n          <div class=\"pyramid-face face-front\"></div>\r\n          <div class=\"pyramid-face face-right\"></div>\r\n          <div class=\"pyramid-face face-left\"></div>\r\n          <div class=\"pyramid-face face-bottom\"></div>\r\n        </div>\r\n        \r\n        <!-- 底层 - 谷物 -->\r\n        <div class=\"pyramid-level level-bottom\">\r\n          <div class=\"pyramid-face face-front\"></div>\r\n          <div class=\"pyramid-face face-right\"></div>\r\n          <div class=\"pyramid-face face-left\"></div>\r\n          <div class=\"pyramid-face face-bottom\"></div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 信息标签 -->\r\n      <div class=\"pyramid-labels\">\r\n        <div class=\"label label-top\">\r\n          <div class=\"label-line\"></div>\r\n          <div class=\"label-text\">\r\n            <div>第三产业</div>\r\n            <div class=\"percentage\">{{ dataMap[currentYear].potato }}%</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"label label-middle\">\r\n          <div class=\"label-line\"></div>\r\n          <div class=\"label-text\">\r\n            <div>第二产业</div>\r\n            <div class=\"percentage\">{{ dataMap[currentYear].beans }}%</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"label label-bottom\">\r\n          <div class=\"label-line\"></div>\r\n          <div class=\"label-text\">\r\n            <div>第一产业</div>\r\n            <div class=\"percentage\">{{ dataMap[currentYear].grain }}%</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GrainPyramid',\r\n  data() {\r\n    return {\r\n      currentYear: '2024', // 默认显示2024年\r\n      years: ['2024', '2023', '2022', '2021'],\r\n      dataMap: {\r\n        '2024': { grain: 61.59, beans: 9.62, potato: 28.80 },\r\n        '2023': { grain: 61.67, beans: 9.58, potato: 28.75 },\r\n        '2022': { grain: 61.91, beans: 9.36, potato: 28.73 },\r\n        '2021': { grain: 62.37, beans: 8.65, potato: 28.98 }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.pyramid-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.chart-title {\r\n  text-align: center;\r\n  color: #fff;\r\n  font-size: 14px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* 年份选择器样式 */\r\n.year-tabs {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.year-tab {\r\n  padding: 4px 10px;\r\n  margin: 0 5px;\r\n  cursor: pointer;\r\n  color: rgba(255, 255, 255, 0.7);\r\n  font-size: 13px;\r\n  border-radius: 4px;\r\n  transition: all 0.3s ease;\r\n  border: 1px solid transparent;\r\n}\r\n\r\n.year-tab:hover {\r\n  color: #fff;\r\n  background: rgba(76, 213, 206, 0.1);\r\n}\r\n\r\n.year-tab.active {\r\n  color: #4cd5ce;\r\n  font-weight: bold;\r\n  border: 1px solid rgba(76, 213, 206, 0.5);\r\n}\r\n\r\n/* 3D金字塔容器 */\r\n.pyramid-3d-container {\r\n  flex: 1;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  perspective: 800px;\r\n}\r\n\r\n.pyramid-3d {\r\n  position: relative;\r\n  transform-style: preserve-3d;\r\n  transform: rotateX(-20deg) rotateY(45deg);\r\n  width: 200px;\r\n  height: 200px;\r\n}\r\n\r\n/* 金字塔层级 */\r\n.pyramid-level {\r\n  position: absolute;\r\n  transform-style: preserve-3d;\r\n  transition: all 0.5s ease;\r\n}\r\n\r\n.level-top {\r\n  width: 70px;\r\n  height: 70px;\r\n  top: -35px;\r\n  left: 65px;\r\n  transform: translateZ(60px);\r\n}\r\n\r\n.level-middle {\r\n  width: 120px;\r\n  height: 40px;\r\n  top: 25px;\r\n  left: 40px;\r\n}\r\n\r\n.level-bottom {\r\n  width: 180px;\r\n  height: 80px;\r\n  top: 50px;\r\n  left: 10px;\r\n  transform: translateZ(-40px);\r\n}\r\n\r\n/* 金字塔面 */\r\n.pyramid-face {\r\n  position: absolute;\r\n  backface-visibility: hidden;\r\n}\r\n\r\n/* 顶层 - 折粮薯类（绿色） */\r\n.level-top .pyramid-face {\r\n  background-color: rgba(144, 190, 109, 0.9);\r\n}\r\n\r\n.level-top .face-front {\r\n  width: 70px;\r\n  height: 60px;\r\n  transform: rotateX(30deg);\r\n  transform-origin: bottom;\r\n}\r\n\r\n.level-top .face-right {\r\n  width: 70px;\r\n  height: 60px;\r\n  transform: rotateY(90deg) rotateX(30deg);\r\n  transform-origin: bottom left;\r\n}\r\n\r\n.level-top .face-left {\r\n  width: 70px;\r\n  height: 60px;\r\n  transform: rotateY(-90deg) rotateX(30deg);\r\n  transform-origin: bottom right;\r\n}\r\n\r\n.level-top .face-bottom {\r\n  width: 70px;\r\n  height: 70px;\r\n  transform: rotateX(90deg);\r\n  transform-origin: bottom;\r\n  top: 0;\r\n}\r\n\r\n/* 中层 - 豆类（黄色） */\r\n.level-middle .pyramid-face {\r\n  background-color: rgba(249, 199, 79, 0.9);\r\n}\r\n\r\n.level-middle .face-front {\r\n  width: 120px;\r\n  height: 40px;\r\n  transform: rotateX(30deg);\r\n  transform-origin: bottom;\r\n}\r\n\r\n.level-middle .face-right {\r\n  width: 120px;\r\n  height: 40px;\r\n  transform: rotateY(90deg) rotateX(30deg);\r\n  transform-origin: bottom left;\r\n}\r\n\r\n.level-middle .face-left {\r\n  width: 120px;\r\n  height: 40px;\r\n  transform: rotateY(-90deg) rotateX(30deg);\r\n  transform-origin: bottom right;\r\n}\r\n\r\n.level-middle .face-bottom {\r\n  width: 120px;\r\n  height: 120px;\r\n  transform: rotateX(90deg);\r\n  transform-origin: bottom;\r\n  top: 0;\r\n}\r\n\r\n/* 底层 - 谷物（青色） */\r\n.level-bottom .pyramid-face {\r\n  background-color: rgba(76, 213, 206, 0.9);\r\n}\r\n\r\n.level-bottom .face-front {\r\n  width: 180px;\r\n  height: 80px;\r\n  transform: rotateX(20deg);\r\n  transform-origin: bottom;\r\n}\r\n\r\n.level-bottom .face-right {\r\n  width: 180px;\r\n  height: 80px;\r\n  transform: rotateY(90deg) rotateX(20deg);\r\n  transform-origin: bottom left;\r\n}\r\n\r\n.level-bottom .face-left {\r\n  width: 180px;\r\n  height: 80px;\r\n  transform: rotateY(-90deg) rotateX(20deg);\r\n  transform-origin: bottom right;\r\n}\r\n\r\n.level-bottom .face-bottom {\r\n  width: 180px;\r\n  height: 180px;\r\n  transform: rotateX(90deg);\r\n  transform-origin: bottom;\r\n  top: 0;\r\n}\r\n\r\n/* 标签样式 */\r\n.pyramid-labels {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  pointer-events: none;\r\n}\r\n\r\n.label {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 20px 0;\r\n}\r\n\r\n.label-line {\r\n  width: 30px;\r\n  height: 1px;\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  margin-right: 10px;\r\n}\r\n\r\n.label-text {\r\n  color: #fff;\r\n  font-size: 12px;\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.label-top {\r\n  align-self: flex-start;\r\n  margin-top: -30px;\r\n}\r\n\r\n.label-middle {\r\n  align-self: flex-start;\r\n}\r\n\r\n.label-bottom {\r\n  align-self: flex-start;\r\n  margin-top: 20px;\r\n}\r\n\r\n.percentage {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-top: 2px;\r\n}\r\n\r\n/* 响应式调整 */\r\n@media screen and (max-width: 768px) {\r\n  .pyramid-3d {\r\n    transform: rotateX(-15deg) rotateY(45deg) scale(0.8);\r\n  }\r\n  \r\n  .label-text {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .percentage {\r\n    font-size: 12px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .pyramid-container {\r\n    padding: 5px;\r\n  }\r\n  \r\n  .year-tab {\r\n    padding: 3px 6px;\r\n    margin: 0 3px;\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .pyramid-3d {\r\n    transform: rotateX(-15deg) rotateY(45deg) scale(0.6);\r\n  }\r\n  \r\n  .label-text {\r\n    font-size: 10px;\r\n  }\r\n  \r\n  .percentage {\r\n    font-size: 11px;\r\n  }\r\n}\r\n</style> "],"mappings":"AA2EA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,KAAA;MACAC,OAAA;QACA;UAAAC,KAAA;UAAAC,KAAA;UAAAC,MAAA;QAAA;QACA;UAAAF,KAAA;UAAAC,KAAA;UAAAC,MAAA;QAAA;QACA;UAAAF,KAAA;UAAAC,KAAA;UAAAC,MAAA;QAAA;QACA;UAAAF,KAAA;UAAAC,KAAA;UAAAC,MAAA;QAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}